{
    "name": "Protocol",
    "plural": "protocols",
    "base": "AppModel",
    "properties": {
        "childType": {
            "type": "string",
            "enum": [
                "Migration",
                "Update",
                "Variation"
            ],
            "required": false
        },
        "release_title": {
            "type": "string"
        },
        "release_url": {
            "type": "string"
        },
        "release_author": {
            "type": "string"
        },
        "release_institute": {
            "type": "string"
        },
        "release_active": {
            "type": "boolean",
            "required": true
        },
        "release_version": {
            "type": "string"
        },
        "release_date": {
            "type": "string"
        },
        "goal_type": {
            "type": "string",
            "enum": [
                "prevention",
                "diagnosis",
                "management",
                "therapeutic"
            ],
            "required": true
        },
        "goal_disease": {
            "type": "string"
        },
        "goal_outcomes": {
            "type": "array"
        },
        "evidence_url": {
            "type": "string"
        },
        "evidence_author": {
            "type": "string"
        },
        "evidence_date": {
            "type": "string"
        },
        "resources_infastructure": {
            "type": "array"
        },
        "resources_pharmaceutical": {
            "type": "array"
        },
        "resources_human": {
            "type": "array"
        },
        "demographics_gender": {
            "type": "string",
            "enum": [
                "male",
                "female",
                "both"
            ],
            "required": true
        },
        "demographics_occupation": {
            "type": "string"
        },
        "demographics_insurance": {
            "type": "string"
        },
        "demographics_agegroup": {
            "type": "string"
        },
        "demographics_nationality": {
            "type": "string"
        },
        "cohort_exposure": {
            "type": "array"
        },
        "cohort_comorbidities": {
            "type": "array"
        },
        "cohort_riskfactors": {
            "type": "array"
        },
        "cohort_symptoms": {
            "type": "string"
        },
        "cohort_contraindications": {
            "type": "array"
        },
        "cohort_medicalhistory": {
            "type": "array"
        }
    },
    "validations": [],
    "relations": {
        "parent": {
            "type": "hasOne",
            "model": "Protocol",
            "foreignKey": "createdFrom"
        },
        "healthcenters": {
          "type": "hasMany",
          "model": "Healthcenter",
          "foreignKey": "protocolId",
          "through": "ProtocolApproval"
        },
        "usedBy": {
          "type": "hasMany",
          "model": "user",
          "foreignKey": "protocolId",
          "through": "ProtocolUsage"
        },
        "createdBy":{
            "type":"belongsTo",
            "model":"user",
            "foreignKey":"ownerId"
        }
    },
      "acls": [  {
    "accessType": "EXECUTE",
    "principalType": "ROLE",
    "principalId": "$authenticated",
    "permission": "ALLOW",
    "property": "upsert"
  }],
    "methods": []
}